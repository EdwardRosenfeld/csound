
============================
CSOUND VERSION 6.07
RELEASE NOTES VERSION 6.07
============================

A large number of bug fixes, some quite major, some internal are
included, as well as some new facilities and extensions. As ever there
are coding improvements as well.

-- The Developers


USER-LEVEL CHANGES
==================

New opcodes:

    o    compress2: like compress but using a more normal use of dB
         (0.0 for full scale).

    o    (Experimental, source code-only) New cuda opcodes cudasynth2
         and cudanal2

    o    directory opcode: Reads a directory and outputs to a string
         array a list of file names.

    o    ftsamplebank:to load a sample library from a directory.

    o    mvclpf1, mvclpf2, mvclpf3, mvclpf4, mvchpf: Moog
         voltage-controlled filter emulations from Fons Andriaensen.

    o    S() converter from k-rate and i-time number to a string.

    o    cepsinv opcode to calculate the inverse cepstrum of an array.
    
    o    moogladder2 is a faster, less accurate implementation of moogladder.

    o    paulstretch opcode is a lightweight implementation of the PaulStretch
         time-stretching algorithm by Paul Nasca Octavian. It is ideal for
         timestretching a signal by very large amounts.


New Gen and Macros:

    o    NONE

Orchestra:

    o    The boolean ?..:.. construction can now have string results,
         while previously it only allowed numbers.

    o    The line number reported when an error is detected at the end
         of a line is now correct.  Also more improvements in line numbers
         for complex syntax

    o    While loop improved/fixed.

    o    Better and consistent reading of comments.

    o    Continuation lines handled better, especially respecting line
         numbers.

    o    opcode:S(.) syntax now allowed.

Score:

    o    The list of tempo points in score opcode t is now arbitrarily
         long.

    o    A stupidity in r and { opcodes fixed.

Options:

    o    The -z option now suppresses deprecated opcodes, unless given
         a 2 or 3 argument.


Modified Opcodes and Gens:

     o   In OSC opcodes it is now possible to send and receive arrays,
         tables and audio.

     o   Better diagnostic if diskin2 fails.

     o   Rezzy now checks for unstable filter and modifies to close
         stable version.

     o   adsr rewritten so it gives an error if the segments are
         longer than p3.

     o   Use of diskin to an array ow resizes the output array if
         necessary.

     o   chnget now checks for a change in chanel name as well as data.

     o   interp can take an optional extra argument to give an initial
         value.

     o   oscilikts uses a more liberal table lookup.

     o   opcode in can read mono or stereo, obviating the in/ins
         distinction.

     o   sensekey rewritten to provide better diagnostics and fixes a
         minor bug.

     o   Fix to a case of defining a macro with arguments.

     o   sockrecv now works at a and k rate.

     o   GEN49 now works from ftgen calls.

     o   GEN34 liberalised in tables it accepts.

     o   chnget now allows channel names to be changed at perf time.

     o   iceps has been renamed cepsinv to avoid name clashes.

Utilities:

  o

Frontends:

  pnacl:

  icsound:

  csound~:

  Emscripten:

  csdebugger:

       * Some memory issues fixed.

  HTML5:

  CsoundQT has its own notes at
     https://github.com/CsoundQt/CsoundQt/blob/master/release_notes/Release%20notes%200.9.2.md

General usage:

    o   The multicore options somewhat improved.

    o   When replacing instruments the new version inherits maxalloc
        and active flags.

    o   Multicore code now works with midi instruments.

    o   MIDI operations now available via a new rtmidi jack module (-+rtmidi=jack)


Bugs fixed:

    o   Fix to trigseq.

    o   Major error in rezzy fixed.

    o   p() fixed for high numbers of p-arguments.

    o   p() now works from MIDI events.

    o   The 31-bit random number generator could give a very short
        loop if seeded with zero; fixed.

    o   Macros in .orc files now work.

    o   A long-standing bug in display of graphs fixed.

    o   Fixes to the envelope opcodes linen, expsegr, linsegr,
        cossegr, transegr, envlpx, including new warnings.
 
    o   Many fixes in string opcodes (strsub, strcpy and others).

    o   Fixed bugs in print formats (sprintf printf prints).

    o   pvsmooth had a missing initialisation.

    o   Array initialisation now robust.

    o   Bug in copya2ftab fixed.

    o   Fix in cudapvsanal (EXPERIMENTAL).

    o   partikkel fix to subsample grain placement.

    o   Opcodes that require an odd number of arguments are now properly checked.

    o   pvswrite now takes proper notice of 0dbfs.

    o   GEN34 now allowing non-power-of-two source tables.

    o   vst4cs will now work on 64bit architecture.

    o   strcat mended.

    o   nstance mended.

    o   fixed small issues in rtauhal module.

    o   Windows installer for 64 bit CPU architecture now sets
        environment variables on system level as it should.

    o   transeg at k-rate with itype non-zero had an initial delay if one cycle

    o   log fuction on arrays fixed

    o   Rescaling of named GENs fixed

    o   A fencepost errot in reading ATS files believed fixed; it
        generated spurious errors about file fimishing early.
        
====================
SYSTEM LEVEL CHANGES
====================

System changes:

    o   Extensive use made of in-memory files.  Orc and sco are always
        thus, as are .csound6rc.  This simplifies much internally.

    o   Nested longjmps fixed which affected some API use.

    o   If a non-existent .csd file is presented Csound no longer
        crashes.

    o   The kcounter value is now consistently an unsigned 64bit
        value, allowing for long performances.


API
===

    * csoundCompileCsdText: New function to compile a CSD from a string of text.

    * The function call csound->GetKcounter(csound) now returns an
      unsigned 64 bit integer.  Previously it returned a long which is
      unclear.
    
    * New wrapper module for Python 2.x and Python 3.x using ctypes: ctcsound


Platform Specific
=================

iOS
---

    *


Android
-------

    *

Windows
-------

    * The Windows installer for Csound now contains all executables
      built for 64 bit CPU architecture.

    * The Windows installer for 64 bit CPU architecture now provides NW.js
      "out of the box." It runs all features of
      Csound, as well as all features of HTML5, in a browser-like runtime
      with JavaScript scripting, and includes a Csound editor implemented
      in HTML. The editor will run pieces either as .csd files with embedded
      <html> or as .html files calling the csound object, and includes
      JavaScript debugging.

    * A new simplified build system has been implemented in the csound/mingw64
      directory for building Csound using the MSYS2/mingw64 toolchain.

OSX
---

    * Installer fixed for link names for _csnd6 and _CsoundAC.

GNU/Linux
---------

    * date opcode more accurate.

========================================================================

========================================================================
Date:   Tue May 10 14:49:44 2016 +0100

commit 6f4881154cbfdd0f58829e40487dd2ab9917b439
Author: veplaini <victor.lazzarini@nuim.ie>
Date:   Sun May 8 02:22:17 2016 +0100

    fixing timing in mp3scal

commit 05aafa2f43462bedfbdd25816850f01e21f12c93
Author: gogins <michael.gogins@gmail.com>
Date:   Tue May 3 11:31:55 2016 -0400

    All plugins and modules now link statically with pthreads.

commit 0a9c709ce889a03e1363d665175789f0782970ef
Author: veplaini <victor.lazzarini@nuim.ie>
Date:   Tue May 3 15:17:49 2016 +0100

    a few more opcodes moved to new interface

commit 723d755c3250783c9de1b68932d66910e41427ef
Author: veplaini <victor.lazzarini@nuim.ie>
Date:   Tue May 3 13:39:25 2016 +0100

    started moving code to the new FFT interface

commit 538fe2e2eb627f361ccb2147ba890ea356348221
Author: veplaini <victor.lazzarini@nuim.ie>
Date:   Tue May 3 12:46:00 2016 +0100

    new fft interface and command-line option

commit 0c2a28a29b8160fe7168b839654f9b62d41be13e
Author: veplaini <victor.lazzarini@nuim.ie>
Date:   Mon May 2 12:22:13 2016 +0100

    FFT scaling fixed

Author: veplaini <victor.lazzarini@nuim.ie>
Date:   Tue Apr 26 16:46:53 2016 +0100

    oscilloscope example

commit 2e6969eb8a6448f6a2ddf91dcc9ef143634ced21
Author: veplaini <victor.lazzarini@nuim.ie>
Date:   Sat Apr 9 09:28:51 2016 +0100

    change in mpadec code to allow for some files to be read

commit c7daba95667bd31e2805508c42845a76e6e0aa16
Author: veplaini <victor.lazzarini@nuim.ie>
Date:   Thu Apr 7 22:29:42 2016 +0100

    mp3scal and filescal opcodes

commit 594a926b011937d169201dd0b54e0b16ee2df3eb
Merge: 991983b 7a04a26
Author: veplaini <victor.lazzarini@nuim.ie>
Date:   Wed Apr 6 15:40:10 2016 +0100

    fixed seeking on mp3in etc

commit f9195eee67ed8a19d8763a997cb6f229fe00f6b7
Author: veplaini <victor.lazzarini@nuim.ie>
Date:   Wed Apr 6 14:45:37 2016 +0100

    fixed readfi string alloc

commit 6ac2193e9a2e12fadb3062c7f9841e5ab12be4c3
Author: veplaini <victor.lazzarini@nuim.ie>
Date:   Wed Apr 6 11:23:02 2016 +0100

    fixed string printing

commit b0183802c7ccdace0f7fa07dc5e69645082adb07
Author: veplaini <victor.lazzarini@nuim.ie>
Date:   Sun Apr 3 17:00:26 2016 +0100

    fixed pvsbandp initialisation

commit 06cc77a1c75de604241e445e6b9bb7f6153c38f2
Author: Francois PINOT <fggpinot@gmail.com>
Date:   Sat Apr 2 09:19:06 2016 +0200

    Added ctcsound.py to interfaces

commit 10d0c075d237b3cf6de5e40062d9aa53b1e275a4
Author: veplaini <victor.lazzarini@nuim.ie>
Date:   Tue Mar 29 15:14:12 2016 +0100

    some changes to cepstrum calculation

commit 282394dd481ee06a0c940804f095f9710230ab39
Author: veplaini <victor.lazzarini@nuim.ie>
Date:   Sat Mar 19 13:21:20 2016 +0000

    tweak csladspa

